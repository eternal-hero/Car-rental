{"version":3,"sources":["history.js","auth/FetchInterceptor.js","../node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","../node_modules/@ant-design/icons/es/icons/DeleteOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/EditOutlined.js","../node_modules/@ant-design/icons/es/icons/EditOutlined.js","views/app-views/cars_data/components/table.js","views/app-views/cars_data/index.js"],"names":["history","service","axios","create","baseURL","API_BASE_URL","timeout","ENTRY_ROUTE","interceptors","request","use","config","jwtToken","localStorage","getItem","AUTH_TOKEN","headers","push","window","location","reload","error","notification","message","Promise","reject","response","data","notificationParam","status","description","removeItem","DeleteOutlined","props","ref","React","AntdIcon","Object","assign","icon","DeleteOutlinedSvg","displayName","EditOutlined","EditOutlinedSvg","Basic","confirm","Modal","useState","loading","setLoading","pagination","setPagination","pageRef","useRef","setData","year","setYear","make","setMake","model","setModel","transmission","setTransmission","trim","setTrim","style","setStyle","id","setId","isModalVisible","setIsModalVisible","reloadState","setReloadState","columns","title","dataIndex","key","render","rowData","display","padding","onClick","handleEdit","handleDelete","console","log","content","onOk","fetch","url","method","then","resp","s","onCancel","fetchProducts","params","new_data","newP","current","total","map","item","model_year","model_make_id","model_name","model_transmission_type","model_trim","model_body","useEffect","page","dataSource","onChange","pager","filters","sorter","pageSize","results","visible","labelCol","span","wrapperCol","layout","Item","label","rules","required","e","target","value","Option","CarsData","Fragment","className","type"],"mappings":"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","file":"static/js/19.b50cb224.chunk.js","sourcesContent":["import * as history from 'history';\r\n\r\nexport default history.createBrowserHistory();","import axios from 'axios'\r\nimport { API_BASE_URL } from 'configs/AppConfig'\r\nimport history from '../history'\r\nimport { AUTH_TOKEN } from 'redux/constants/Auth'\r\nimport { notification } from 'antd';\r\n\r\nconst service = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 60000\r\n})\r\n\r\n// Config\r\nconst ENTRY_ROUTE = '/auth/login'\r\n// const TOKEN_PAYLOAD_KEY = 'authorization'\r\nconst TOKEN_PAYLOAD_KEY = 'Authorization'\r\nconst PUBLIC_REQUEST_KEY = 'public-request'\r\n\r\n// API Request interceptor\r\nservice.interceptors.request.use(config => {\r\n\tconst jwtToken = localStorage.getItem(AUTH_TOKEN)\r\n\t\r\n  if (jwtToken) {\r\n    config.headers[TOKEN_PAYLOAD_KEY] = \"bearer \" + jwtToken\r\n  }\r\n\r\n  if (!jwtToken && !config.headers[PUBLIC_REQUEST_KEY]) {\r\n\t\thistory.push(ENTRY_ROUTE)\r\n\t\twindow.location.reload();\r\n  }\r\n\r\n  return config\r\n}, error => {\r\n\t// Do something with request error here\r\n\tnotification.error({\r\n\t\tmessage: 'Error'\r\n\t})\r\n  Promise.reject(error)\r\n})\r\n\r\n// API respone interceptor\r\nservice.interceptors.response.use( (response) => {\r\n\treturn response.data\r\n}, (error) => {\r\n\r\n\tlet notificationParam = {\r\n\t\tmessage: ''\r\n\t}\r\n\t\r\n\t// Remove token and redirect \r\n\tif (error.response.status === 400 || error.response.status === 403) {\r\n\t\tnotificationParam.message = 'Authentication Fail'\r\n\t\tnotificationParam.description = 'Please login again'\r\n\t\tlocalStorage.removeItem(AUTH_TOKEN)\r\n\t\thistory.push(ENTRY_ROUTE)\r\n\t\twindow.location.reload();\r\n\t}\r\n\r\n\tif (error.response.status === 404) {\r\n\t\tnotificationParam.message = 'Not Found'\r\n\t}\r\n\r\n\tif (error.response.status === 500) {\r\n\t\tnotificationParam.message = 'Internal Server Error'\r\n\t}\r\n\t\r\n\tif (error.response.status === 508) {\r\n\t\tnotificationParam.message = 'Time Out'\r\n\t}\r\n\r\n\tnotification.error(notificationParam)\r\n\r\n\treturn Promise.reject(error);\r\n});\r\n\r\nexport default service","// This icon file is generated automatically.\nvar DeleteOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\" } }] }, \"name\": \"delete\", \"theme\": \"outlined\" };\nexport default DeleteOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\nDeleteOutlined.displayName = 'DeleteOutlined';\nexport default /*#__PURE__*/React.forwardRef(DeleteOutlined);","// This icon file is generated automatically.\nvar EditOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\" } }] }, \"name\": \"edit\", \"theme\": \"outlined\" };\nexport default EditOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EditOutlinedSvg from \"@ant-design/icons-svg/es/asn/EditOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EditOutlined = function EditOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: EditOutlinedSvg\n  }));\n};\n\nEditOutlined.displayName = 'EditOutlined';\nexport default /*#__PURE__*/React.forwardRef(EditOutlined);","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Button, Table, Modal, Input, Form, Select, } from \"antd\";\r\nimport {\r\n    EditOutlined,\r\n    DeleteOutlined\r\n} from '@ant-design/icons'\r\n\r\nimport fetch from 'auth/FetchInterceptor'\r\n\r\nexport default function Basic(props) {\r\n    const { confirm } = Modal;\r\n    const [loading, setLoading] = useState(false);\r\n    const [pagination, setPagination] = useState({});\r\n    const pageRef = useRef(pagination);\r\n    const [data, setData] = useState();\r\n    const [year, setYear] = useState(\"\");\r\n    const [make, setMake] = useState(\"\");\r\n    const [model, setModel] = useState(\"\");\r\n    const [transmission, setTransmission] = useState(\"\");\r\n    const [trim, setTrim] = useState(\"\");\r\n    const [style, setStyle] = useState(\"\");\r\n    const [id, setId] = useState(\"\");\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    const [reloadState, setReloadState] = useState(true);\r\n    const columns = [\r\n        {\r\n            title: \"Year\",\r\n            dataIndex: \"year\",\r\n            key: \"year\",\r\n        },\r\n        {\r\n            title: \"Make\",\r\n            dataIndex: \"make\",\r\n            key: \"make\"\r\n        },\r\n        {\r\n            title: \"Model\",\r\n            dataIndex: \"model\",\r\n            key: \"model\"\r\n        },\r\n        {\r\n            title: \"Transmission\",\r\n            dataIndex: \"transmission\",\r\n            key: \"transmission\"\r\n        },\r\n        {\r\n            title: \"Trim\",\r\n            dataIndex: \"trim\",\r\n            key: \"trim\"\r\n        },\r\n        {\r\n            title: \"Style\",\r\n            dataIndex: \"style\",\r\n            key: \"style\"\r\n        },\r\n        {\r\n            title: \"Action\",\r\n            key: \"action\",\r\n            render: (rowData) => (\r\n                <>\r\n                    <div style={{ display: \"flex\" }}>\r\n                        <div style={{ padding: \"10px\" }}><EditOutlined onClick={handleEdit(rowData)} /></div>\r\n                        <div style={{ padding: \"10px\" }}><DeleteOutlined onClick={handleDelete(rowData)} /></div>\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n\r\n    ];\r\n    const handleEdit = (rowData) => () => {\r\n        console.log(rowData)\r\n        setYear(rowData.year)\r\n        setMake(rowData.make)\r\n        setModel(rowData.model)\r\n        setTrim(rowData.trim)\r\n        setStyle(rowData.style)\r\n        setTransmission(rowData.transmission);\r\n        setId(rowData.id);\r\n        setIsModalVisible(true)\r\n\r\n    }\r\n    const handleDelete = (rowData) => () => {\r\n        confirm({\r\n            title: \"Do you want to delete these items?\",\r\n            content:\r\n              \"When clicked the OK button, this dialog will be closed after 1 second\",\r\n            onOk() {\r\n                fetch({\r\n                    url: '/car_data_delete/' + rowData.id,\r\n                    method: 'post',\r\n                    headers: {\r\n                        'public-request': 'true'\r\n                    },\r\n                }).then((resp) => {\r\n                    setReloadState(s => !s);\r\n\r\n                })\r\n            },\r\n            onCancel() { }\r\n          });\r\n    }\r\n    const fetchProducts = (params) => {\r\n        setLoading(true);\r\n        fetch({\r\n            url: '/car_data',\r\n            method: 'get',\r\n            headers: {\r\n                'public-request': 'true'\r\n            },\r\n            params\r\n        }).then((resp) => {\r\n            var data = [];\r\n            var new_data = {};\r\n            setLoading(false);\r\n            console.log(pagination, \"++++\");\r\n            let newP = {...pageRef.current, total: resp.total};\r\n            pageRef.current = newP;\r\n            setPagination(newP);\r\n            resp.data.map((item) => {\r\n                new_data = {\r\n                    key: item.id,\r\n                    id: item.id,\r\n                    year: item.model_year,\r\n                    make: item.model_make_id,\r\n                    model: item.model_name,\r\n                    transmission: item.model_transmission_type,\r\n                    trim: item.model_trim,\r\n                    style: item.model_body\r\n                }\r\n                data.push(new_data);\r\n            })\r\n            setData(data);\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        fetchProducts({ page: pageRef.current.current });\r\n    }, [props.reloadState, reloadState]);\r\n    const handleTableChange = (pager, filters, sorter) => {\r\n        console.log(pager);\r\n        pageRef.current = pager;\r\n        setPagination({ ...pageRef.current, current: pager.current, pageSize: pager.pageSize });\r\n        fetchProducts({\r\n            page: pager.current,\r\n            results: pager.pageSize,\r\n            //   dates: props.startDate + \",\" + props.endDate,\r\n            //   search: props.searchText\r\n        });\r\n    };\r\n    const handleOk = () => {\r\n        let params = {\r\n            year: year,\r\n            make: make,\r\n            model: model,\r\n            transmission: transmission,\r\n            trim: trim,\r\n            style: style,\r\n            id: id,\r\n        };\r\n        console.log(params);\r\n        fetch({\r\n            url: '/car_data_update',\r\n            method: 'post',\r\n            headers: {\r\n                'public-request': 'true'\r\n            },\r\n            params,\r\n        }).then((resp) => {\r\n            setIsModalVisible(false);\r\n            setReloadState(s => !s);\r\n        })\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setIsModalVisible(false);\r\n    };\r\n    const handleYearChange = (e) => {\r\n        setYear(e.target.value);\r\n    }\r\n    const handleMakeChange = (e) => {\r\n        setMake(e.target.value);\r\n    }\r\n    const handleModelChange = (e) => {\r\n        setModel(e.target.value);\r\n    }\r\n    const handleSelectTransmission = (e) => {\r\n        setTransmission(e);\r\n    }\r\n    const handleTrimChange = (e) => {\r\n        setTrim(e.target.value);\r\n    }\r\n    const handleStyleChange = (e) => {\r\n        setStyle(e.target.value);\r\n    }\r\n    return (\r\n        <>\r\n            <Table columns={columns} dataSource={data} loading={loading} pagination={pagination} onChange={handleTableChange} />\r\n            <Modal title=\"Add Car\" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}>\r\n                <Form\r\n                    labelCol={{\r\n                        span: 6,\r\n                    }}\r\n                    wrapperCol={{\r\n                        span: 15,\r\n                    }}\r\n                    layout=\"horizontal\"\r\n                >\r\n                    <Form.Item label=\"Year\" rules={[{ required: true, },]}>\r\n                        <Input onChange={handleYearChange} value={year} />\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Make\" rules={[{ required: true, },]} >\r\n                        <Input onChange={handleMakeChange} value={make} />\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Model\" rules={[{ required: true, },]} >\r\n                        <Input onChange={handleModelChange} value={model} />\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Transmission\" rules={[{ required: true, },]}>\r\n                        <Select value={transmission} onChange={handleSelectTransmission} >\r\n                            <Select.Option value=\"manual\" >manual</Select.Option>\r\n                            <Select.Option value=\"automatic\" >automatic</Select.Option>\r\n                        </Select>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Trim\" rules={[{ required: true, },]} >\r\n                        <Input onChange={handleTrimChange} value={trim} />\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Style\" rules={[{ required: true, },]} >\r\n                        <Input onChange={handleStyleChange} value={style} />\r\n                    </Form.Item>\r\n                </Form>\r\n\r\n            </Modal>\r\n        </>\r\n    );\r\n}","import React, { useState } from \"react\";\r\nimport { Button, Modal, Input, Form, Select, } from \"antd\";\r\nimport Table from './components/table';\r\nimport '../custom.css';\r\nimport fetch from 'auth/FetchInterceptor'\r\n\r\nconst CarsData = () => {\r\n    const [isModalVisible, setIsModalVisible] = useState(false);\r\n    const [year, setYear] = useState(\"\");\r\n    const [make, setMake] = useState(\"\");\r\n    const [model, setModel] = useState(\"\");\r\n    const [transmission, setTransmission] = useState(\"\");\r\n    const [trim, setTrim] = useState(\"\");\r\n    const [style, setStyle] = useState(\"\");\r\n    const [reloadState, setReloadState] = useState(true);\r\n    const handleAddCar = () => {\r\n        setYear(\"\")\r\n        setMake(\"\")\r\n        setModel(\"\")\r\n        setTrim(\"\")\r\n        setStyle(\"\")\r\n        setIsModalVisible(true);\r\n    }\r\n    const handleOk = () => {\r\n        let params = {\r\n            year: year,\r\n            make: make,\r\n            model: model,\r\n            transmission: transmission,\r\n            trim: trim,\r\n            style: style,\r\n        };\r\n        console.log(params);\r\n        fetch({\r\n            url: '/car_data',\r\n            method: 'post',\r\n            headers: {\r\n                'public-request': 'true'\r\n            },\r\n            params,\r\n        }).then((resp) => {\r\n            // setIsModalVisible(false);\r\n            setYear(\"\")\r\n            setMake(\"\")\r\n            setModel(\"\")\r\n            setTrim(\"\")\r\n            setStyle(\"\")\r\n            setReloadState(s => !s);\r\n            setTransmission(\"\")\r\n            // // success();\r\n        })\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        setIsModalVisible(false);\r\n    };\r\n    const handleYearChange = (e) => {\r\n        setYear(e.target.value);\r\n    }\r\n    const handleMakeChange = (e) => {\r\n        setMake(e.target.value);\r\n    }\r\n    const handleModelChange = (e) => {\r\n        setModel(e.target.value);\r\n    }\r\n    const handleSelectTransmission = (e) => {\r\n        setTransmission(e);\r\n    }\r\n    const handleTrimChange = (e) => {\r\n        setTrim(e.target.value);\r\n    }\r\n    const handleStyleChange = (e) => {\r\n        setStyle(e.target.value);\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n\r\n            <div className='RoleBtn'>\r\n                <h1>Cars Database</h1>\r\n                <Button type=\"primary\" onClick={handleAddCar}>ADD CAR</Button>\r\n            </div>\r\n            <div>\r\n                <Table reloadState={reloadState} />\r\n            </div>\r\n            <Modal title=\"Add Car\" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel}>\r\n                <Form\r\n                    labelCol={{\r\n                        span: 6,\r\n                    }}\r\n                    wrapperCol={{\r\n                        span: 15,\r\n                    }}\r\n                    layout=\"horizontal\"\r\n                >\r\n                    <Form.Item label=\"Year\" rules={[{ required: true, },]}>\r\n                        <Input onChange={handleYearChange} value={year} />\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Make\" rules={[{ required: true, },]} >\r\n                        <Input onChange={handleMakeChange} value={make} />\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Model\" rules={[{ required: true, },]} >\r\n                        <Input onChange={handleModelChange} value={model} />\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Transmission\" rules={[{ required: true, },]}>\r\n                        <Select value={transmission} onChange={handleSelectTransmission} >\r\n                            <Select.Option value=\"manual\" >manual</Select.Option>\r\n                            <Select.Option value=\"automatic\" >automatic</Select.Option>\r\n                        </Select>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Trim\" rules={[{ required: true, },]} >\r\n                        <Input onChange={handleTrimChange} value={trim} />\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Style\" rules={[{ required: true, },]} >\r\n                        <Input onChange={handleStyleChange} value={style} />\r\n                    </Form.Item>\r\n                </Form>\r\n\r\n            </Modal>\r\n\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default CarsData"],"sourceRoot":""}